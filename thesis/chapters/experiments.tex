\chapter{Experiments}

\begin{tikzpicture}
    \begin{axis}[
        title={Query Time over Distance},
        xlabel={Distance},
        ylabel={time in micro seconds},
        legend pos=north west,
        xmajorgrids=true,
        ymajorgrids=true,
        grid style=dashed,
        width = 1\linewidth
    ]
        
        \addplot table [x=weight, y=dijkstraTime, col sep=comma, only marks] {assets/plots/data.csv};
        \legend{dijkstra, CCH}
        \addplot table [x=weight, y=cchTime, col sep=comma, only marks] {assets/plots/data.csv};
    \end{axis}
\end{tikzpicture}

\begin{tikzpicture}
    \begin{axis}[
        title={Query Time over Path length},
        xlabel={dijkstra path length},
        ylabel={time in micro seconds},
        legend pos=north west,
        xmajorgrids=true,
        ymajorgrids=true,
        grid style=dashed,
        width = 1\linewidth
    ]
        
        \addplot table [x=dijkstraHops, y=dijkstraTime, col sep=comma, only marks] {assets/plots/data.csv};
        \legend{dijkstra, CCH}
        \addplot table [x=dijkstraHops, y=cchTime, col sep=comma, only marks] {assets/plots/data.csv};
    \end{axis}
\end{tikzpicture}

\begin{tikzpicture}
    \begin{axis}[
        title={Disk access over Expand Nodes in CCH},
        xlabel={Expanded Verticies},
        ylabel={Load Invocations},
        legend pos=north west,
        xmajorgrids=true,
        ymajorgrids=true,
        grid style=dashed,
        width = 1\linewidth
    ]
    \addplot table [x=cchExpanded, y=cchLoadInvocations, col sep=comma, only marks] {assets/plots/data.csv};
    \end{axis}
\end{tikzpicture}

\begin{tikzpicture}
    \begin{axis}[
        title={Disk access over Time in CCH},
        xlabel={Time},
        ylabel={Load Invocations},
        legend pos=north west,
        xmajorgrids=true,
        ymajorgrids=true,
        grid style=dashed,
        width = 1\linewidth
    ]
    \addplot table [x=cchTime, y=cchLoadInvocations, col sep=comma, only marks] {assets/plots/data.csv};
    \end{axis}
\end{tikzpicture}

\begin{tikzpicture}
    \begin{axis}[
        title={Disk access over Expand Nodes in CCH},
        xlabel={Dijkstra path length},
        ylabel={CCH path length},
        legend pos=north west,
        xmajorgrids=true,
        ymajorgrids=true,
        grid style=dashed,
        width = 1\linewidth,
        %x filter/.code={\pgfmathparse{#1^0.5}}
        %xmode = log,
        %log basis x=2
        ]
    \addplot table [x=dijkstraHops, y=cchHops, col sep=comma, only marks] {assets/plots/data.csv};
    \end{axis}
\end{tikzpicture}

\begin{tikzpicture}
    \begin{axis}[
        title={Disk access over Expand Nodes in CCH},
        xlabel={Path Length},
        ylabel={Distance},
        legend pos=north west,
        xmajorgrids=true,
        ymajorgrids=true,
        grid style=dashed,
        width = 1\linewidth
    ]
    \addplot table [x=weight, y=cchHops, col sep=comma, only marks] {assets/plots/data.csv};
    \addplot table [x=weight, y=dijkstraHops, col sep=comma, only marks] {assets/plots/data.csv};
    \legend{dijkstra, CCH}
    \end{axis}
\end{tikzpicture}

\begin{tikzpicture}
    \begin{axis}[
        title={Expanded Verticies over Path Length},
        xlabel={Distance},
        ylabel={Expanded Verticies},
        legend pos=north west,
        xmajorgrids=true,
        ymajorgrids=true,
        grid style=dashed,
        width = 1\linewidth
    ]
    \addplot table [x=weight, y=DijkstraExpandedNodes, col sep=comma, only marks] {assets/plots/data.csv};
    \addplot table [x=weight, y=cchExpanded, col sep=comma, only marks] {assets/plots/data.csv};
    \legend{dijkstra, CCH}
    \end{axis}
\end{tikzpicture}

\begin{tikzpicture}
    \begin{axis}[
        title={Expanded Verticies over Distance},
        xlabel={Path Length},
        ylabel={Expanded Verticies},
        legend pos=north west,
        xmajorgrids=true,
        ymajorgrids=true,
        grid style=dashed,
        width = 1\linewidth
    ]
    \addplot table [x=dijkstraHops, y=DijkstraExpandedNodes, col sep=comma, only marks] {assets/plots/data.csv};
    \addplot table [x=dijkstraHops, y=cchExpanded, col sep=comma, only marks] {assets/plots/data.csv};
    \legend{dijkstra, CCH}
    \end{axis}
\end{tikzpicture}

\newpage

\begin{table}
    \centering
    \begin{tabular}{ p{5cm} || R{2cm} | R{2cm} | R{2cm} | R{2cm} }
    \toprule
     & \multicolumn{1}{l}{\textbf{New York}} & \multicolumn{1}{l}{\textbf{Colorado}} & \multicolumn{1}{l}{\textbf{Florida}} & \multicolumn{1}{L{2cm}}{\textbf{California + Nevada}} \\ 
    \midrule
    Verticies & 264,346 & 435,666 & 1,070,376 & 1,890,815 \\
    Edges & 733,846 & 1,057,066 & 2,712,798 & 4,657,742 \\
    Shortcuts & 2,153,002 & 1,680,290 & 4,397,804 & 8,598,552 \\
    Shortcuts added Relative & 2.93 & 1.59 & 1.62 & 1.85 \\
    Contraction Time & 545 s & 233 s & 579 s & 4,384 s \\
    Max In Degree & 1,150 & 629 & 785 & 1,252 \\
    Out Arcs Disk Size & 23.1 MB & 21.9 MB & 56.9 MB & 106.5 MB \\ 
    Out Position File Size & 1.1 MB & 1.8MB & 1.3MB & 7.6 MB \\ 
    In Arcs Disk Size & 23.1 MB & 21.9 MB & 56.9 MB & 106.5 MB \\ 
    In Position File Size & 1.1 MB & 1.8MB & 1.3MB & 7.6 MB \\ 
    Block filling & 0.99 & 0.95 & -122.0 & -122.0 \\ 
    AVG Dijkstra Search Time & 0.816 s & 0.549 s & 2.630 s & 4.858 s \\ 
    AVG Search Time (40kB) & 0.140 s & 0.122 s & 0.147 s & 0.289 s\\
    AVG Disk Access (40kB) & 574 & 437 & 500 & 899 \\
    Update Time & 90 s & 51 s & 142 s & 444 s \\
    AVG Search Time 40960 after multi update & 0.147 s & 0.129 s & 0.150 s & 0.302 \\
    AVG Disk Access 40960 after multi update & 569 & 457 & 516 & 924 \\
    \bottomrule
    \end{tabular}
    \caption{thisTable.}
    \label{tab:thisTable}
\end{table}